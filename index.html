<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Calculadora de Doses Completa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f0f2f5; font-family: sans-serif; padding-bottom: 50px; }
        .main-card { border-radius: 20px; border: none; box-shadow: 0 10px 20px rgba(0,0,0,0.08); }
        .dose-badge { background: #e7f3ff; color: #007bff; padding: 4px 8px; border-radius: 6px; font-weight: bold; }
        .inj-badge { background: #fff3cd; color: #856404; padding: 4px 8px; border-radius: 6px; font-weight: bold; }
        .section-title { border-left: 5px solid #007bff; padding-left: 10px; margin: 25px 0 15px; font-weight: bold; }
        .result-section { display: none; }
        .form-control-lg { border-radius: 12px; }
        .btn-calculate { border-radius: 12px; padding: 15px; font-weight: bold; width: 100%; }
    </style>
</head>
<body>

<div class="container mt-4">
    <div class="main-card card p-4">
        <header class="text-center mb-4">
            <h2 class="fw-bold">Gestor de Dosagens</h2>
            <p class="text-muted small">Cálculos baseados em peso corporal</p>
        </header>

        <div class="row g-3">
            <div class="col-12 col-md-6">
                <label class="form-label fw-bold">Peso (kg)</label>
                <input type="number" id="peso" class="form-control form-control-lg" placeholder="Ex: 15" inputmode="decimal">
            </div>
            <div class="col-12 col-md-6">
                <label class="form-label fw-bold">Idade/Meses</label>
                <input type="text" id="idade" class="form-control form-control-lg" placeholder="Ex: 3 anos">
            </div>
            <div class="col-12">
                <button onclick="calcularTudo()" class="btn btn-primary btn-calculate shadow">CALCULAR DOSES</button>
            </div>
        </div>

        <div id="resultado" class="result-section">
            
            <h5 class="section-title text-primary">MEDICAÇÕES ORAIS (GOTAS)</h5>
            <div class="table-responsive rounded-3 border">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>Medicamento</th>
                            <th class="text-center">Dose</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-oral"></tbody>
                </table>
            </div>

            <h5 class="section-title text-danger">MEDICAÇÕES INJETÁVEIS (IM/IV)</h5>
            <div class="alert alert-info py-2 small">Uso restrito a profissionais de saúde.</div>
            <div class="table-responsive rounded-3 border">
                <table class="table table-hover mb-0">
                    <thead class="table-light">
                        <tr>
                            <th>Medicamento</th>
                            <th class="text-center">Volume (ml)</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-injetavel"></tbody>
                </table>
            </div>

            <div class="alert alert-warning mt-4 small">
                <strong>Atenção:</strong> Valores calculados com base em protocolos padrão. Verifique sempre a apresentação do frasco e a prescrição médica.
            </div>
        </div>
    </div>
</div>

<script>
function calcularTudo() {
    const peso = parseFloat(document.getElementById('peso').value.replace(',', '.'));
	const idade = parseFloat(document.getElementById('idade').value.replace(',', '.'));
    if (!peso || peso <= 0) { alert("Informe o peso."); return; }
	var ipatroprio=0;
	if (idade>12) {
		ipatroprio=40;
	}else if(idade>6){
		ipatroprio=20;
	}else if(idade>0){
		ipatroprio="8 a 20";
	}
	var amox=(peso/3).toFixed(2);
	if(amox>10){amox=10;}
	
	
	
    // --- LÓGICA ORAIS ---
    const orais = [
		{ nome: "Amoxicilina (250mg/ml)", dose: amox + " ml", obs: "máximo de 10ml de 8/8h" },
		{ nome: "Brometo de Ipratrópio ( 0,25 mg/ml)", dose: ipatroprio + " gts", obs: "Nebulização" },
        { nome: "Dipirona (500mg/ml)", dose: Math.round(peso) + " gts", obs: "6/6h" },
        { nome: "Paracetamol (200mg/ml)", dose: Math.round(peso) + " gts", obs: "6/6h" },
        { nome: "Ibuprofeno (50mg/ml)", dose: Math.round(peso) + " a " + Math.round(peso*2) + " gts", obs: "8/8h" },
        { nome: "Simeticona (75mg/ml)", dose: Math.round(peso) + " gts", obs: "8/8h (Máx 25gts)" },
        { nome: "Metoclopramida (4mg/ml)", dose: Math.round(peso) + " gts", obs: "8/8h (Cuidado < 1 ano)" },
        { nome: "Bromoprida (4mg/ml)", dose: Math.round(peso*0.5) + " a " + Math.round(peso) + " gts", obs: "8/8h" },
        { nome: "Buscopan Composto (333,4 mg/mL + 6,67 mg/mL)", dose: Math.round(peso) + " gts", obs: "6/6h" }
    
    ];

    // --- LÓGICA INJETÁVEIS (Exemplos de cálculo Volumétrico) ---
    // Dipirona Inj: 500mg/ml | Dose: 20mg/kg -> peso * 20 / 500
    // Metoclopramida Inj: 5mg/ml | Dose: 0.1mg/kg -> peso * 0.1 / 5
    const injetaveis = [
        { nome: "Dipirona (500mg/ml)", dose: (peso * 0.04).toFixed(2) + " ml", via: "IM/IV Lento" },
        { nome: "Metoclopramida (5mg/ml)", dose: (peso * 0.05).toFixed(2) + " ml", via: "IV/IM" },
        { nome: "Bromoprida (5mg/ml)", dose: (peso * 0.03).toFixed(2) + " ml", via: "IV/IM" },
        { nome: "Buscopan Composto (500 mg/mL + 4 mg/mL)", dose: (peso * 0.05).toFixed(2) + " ml", via: "IV/IM" }
    ];

    // Preencher Orais
    const tOral = document.getElementById('tabela-oral');
    tOral.innerHTML = "";
    orais.forEach(m => {
        tOral.innerHTML += `<tr><td class="py-3"><b>${m.nome}</b><br><small class="text-muted">${m.obs}</small></td>
                            <td class="text-center py-3"><span class="dose-badge">${m.dose}</span></td></tr>`;
    });

    // Preencher Injetáveis
    const tInj = document.getElementById('tabela-injetavel');
    tInj.innerHTML = "";
    injetaveis.forEach(m => {
        tInj.innerHTML += `<tr><td class="py-3"><b>${m.nome}</b><br><small class="text-muted">Via: ${m.via}</small></td>
                            <td class="text-center py-3"><span class="inj-badge">${m.dose}</span></td></tr>`;
    });

    document.getElementById('resultado').style.display = 'block';
    window.scrollTo({ top: document.getElementById('resultado').offsetTop, behavior: 'smooth' });
}
</script>

</body>
</html>
